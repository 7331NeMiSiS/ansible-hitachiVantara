-
  name: Update Storage Pool deduplication
  hosts: localhost
  collections:
    - hitachi.storage
  gather_facts: false
  vars:
    - enable_deduplication: true
    - pool_id: 1
    - storage_serial: 12345
  tasks:
    - hv_storagepool:
        state: present
        storage_serial: '{{ storage_serial }}'
        data:
          enable_deduplication: '{{ enable_deduplication }}'
          pool_id: '{{ pool_id | default(omit) }}'
      register: result
    - debug: var=result.storagePool

